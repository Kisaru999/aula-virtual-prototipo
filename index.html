<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula Virtual - Prototipo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos personalizados si son necesarios */
        body {
            font-family: "Inter", sans-serif;
        }
        /* Estilo para ocultar las secciones inicialmente */
        #attendance-details, #daily-details, #grades-details, #notifications-details, #daily-notifications-details, #news-details, #material-details, #subject-units, #unit-material {
            display: none;
        }
        /* Estilo básico para la tabla */
        .grades-table th, .grades-table td {
            padding: 8px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }
        .grades-table th {
            background-color: #f2f2f2;
        }
         .grades-table {
            width: 100%;
            border-collapse: collapse;
        }
        /* Estilo para cada notificación individual */
        .notification-item {
            background-color: #e2e8f0; /* Tailwind gray-200 */
            padding: 12px; /* Tailwind p-3 */
            border-radius: 8px; /* Tailwind rounded-lg */
            margin-bottom: 8px; /* Tailwind mb-2 */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* Tailwind shadow-sm */
        }
         .daily-notifications-day {
             margin-bottom: 16px; /* Tailwind mb-4 */
             padding: 12px; /* Tailwind p-3 */
             background-color: #f7fafc; /* Tailwind gray-100 */
             border-radius: 8px; /* Tailwind rounded-lg */
             border: 1px solid #e2e8f0; /* Tailwind border-gray-200 */
         }
         .daily-notifications-day h4 {
             font-weight: 600; /* Tailwind font-semibold */
             margin-bottom: 8px; /* Tailwind mb-2 */
         }
         .daily-notifications-day ul {
             list-style: disc;
             padding-left: 20px; /* Adjust as needed for list bullet spacing */
         }
         .daily-notifications-day li {
             margin-bottom: 4px; /* Tailwind mb-1 */
             font-size: 0.9rem; /* Tailwind text-sm */
         }
         .news-item {
             margin-bottom: 20px; /* Tailwind mb-5 */
             padding: 16px; /* Tailwind p-4 */
             background-color: #ffffff; /* White background */
             border-radius: 8px; /* Tailwind rounded-lg */
             box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); /* Tailwind shadow-md */
             border: 1px solid #e2e8f0; /* Tailwind border-gray-200 */
         }
          .news-item h3 {
             font-size: 1.25rem; /* Tailwind text-xl */
             font-weight: 600; /* Tailwind font-semibold */
             margin-bottom: 8px; /* Tailwind mb-2 */
         }
          .news-item p {
             margin-bottom: 8px; /* Tailwind mb-2 */
             color: #4a5568; /* Tailwind gray-700 */
         }
          .news-item ul {
             list-style: disc;
             padding-left: 20px; /* Adjust as needed */
             color: #4a5568; /* Tailwind gray-700 */
         }
          .news-item li {
             margin-bottom: 4px; /* Tailwind mb-1 */
         }
         /* Estilo para elementos clicables en Material de Apoyo */
         .material-link {
             display: block;
             padding: 12px;
             background-color: #e2e8f0; /* gray-200 */
             border-radius: 8px;
             margin-bottom: 8px;
             cursor: pointer;
             transition: background-color 0.3s ease;
         }
         .material-link:hover {
             background-color: #cbd5e0; /* gray-300 */
         }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <header class="bg-blue-600 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">Aula Virtual</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#" class="hover:underline">Inicio</a></li>
                    </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto mt-8 p-4 flex flex-col md:flex-row gap-8 flex-grow">

        <section id="main-content" class="flex-grow bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">Inicio</h2>
            <div id="main-buttons" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6">

                <div id="btn-asistencia" class="flex flex-col items-center justify-center p-6 bg-gray-200 rounded-lg shadow-sm hover:bg-gray-300 cursor-pointer transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <span class="text-lg font-medium">Asistencia</span>
                </div>

                <div id="btn-calificaciones" class="flex flex-col items-center justify-center p-6 bg-gray-200 rounded-lg shadow-sm hover:bg-gray-300 cursor-pointer transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="text-lg font-medium">Calificaciones</span>
                </div>

                <div id="btn-notificaciones" class="flex flex-col items-center justify-center p-6 bg-gray-200 rounded-lg shadow-sm hover:bg-gray-300 cursor-pointer transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-yellow-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.405L4 17h5m6 0a6 6 0 00-6 0m6 0h-6" />
                    </svg>
                    <span class="text-lg font-medium">Notificaciones</span>
                </div>

                 <div id="btn-noticias" class="flex flex-col items-center justify-center p-6 bg-gray-200 rounded-lg shadow-sm hover:bg-gray-300 cursor-pointer transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-purple-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.523 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5S19.832 5.477 21 6.253v13C19.832 18.523 18.246 18 16.5 18s-3.332.477-4.5 1.253" />
                    </svg>
                    <span class="text-lg font-medium">Noticias</span>
                </div>

                <div id="btn-material" class="flex flex-col items-center justify-center p-6 bg-gray-200 rounded-lg shadow-sm hover:bg-gray-300 cursor-pointer transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h.5c.5 0 1 .5 1 1s.5 1 1 1h2.5M7 7h14m-9 4h.01M7 15h.01" />
                    </svg>
                    <span class="text-lg font-medium">Material de apoyo</span>
                </div>

            </div>

            <div id="attendance-details" class="mt-8 p-6 bg-white rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Detalles de Asistencia</h2>

                <div class="mb-4">
                    <p class="text-lg"><span class="font-semibold">Asistencia mínima requerida:</span> 70%</p>
                    <p class="text-lg"><span class="font-semibold">Tu asistencia actual:</span> 82%</p>
                </div>

                <div id="monthly-history">
                    <h3 class="text-lg font-semibold mb-3">Historial de Asistencia por Mes</h3>
                    <ul class="list-none space-y-2">
                        <li class="flex justify-between items-center">
                            <span>Enero: 100%</span>
                            <button class="text-blue-600 hover:underline text-sm view-detail-btn" data-month="enero">Ver detallado</button>
                        </li>
                         <li class="flex justify-between items-center">
                            <span>Febrero: 90%</span>
                            <button class="text-blue-600 hover:underline text-sm view-detail-btn" data-month="febrero">Ver detallado</button>
                        </li>
                         <li class="flex justify-between items-center">
                            <span>Marzo: 85%</span>
                            <button class="text-blue-600 hover:underline text-sm view-detail-btn" data-month="marzo">Ver detallado</button>
                        </li>
                         <li class="flex justify-between items-center">
                            <span>Abril: 78%</span>
                            <button class="text-blue-600 hover:underline text-sm view-detail-btn" data-month="abril">Ver detallado</button>
                        </li>
                         <li class="flex justify-between items-center">
                            <span>Mayo: 82%</span>
                            <button class="text-blue-600 hover:underline text-sm view-detail-btn" data-month="mayo">Ver detallado</button>
                        </li>
                        </ul>
                </div>

                <div id="daily-details" class="mt-6">
                    <h3 class="text-lg font-semibold mb-3">Detalle Diario de Asistencia (<span id="detail-month"></span>)</h3>
                    <ul id="daily-list" class="list-disc list-inside space-y-1">
                        </ul>
                    <button id="btn-close-daily-details" class="mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-3 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out text-sm">
                        Cerrar detalle
                    </button>
                </div>

                <button id="btn-justify-attendance" class="mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    JUSTIFICAR ASISTENCIA
                </button>

                 <button id="btn-close-attendance" class="mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    Cerrar
                </button>
            </div>

            <div id="grades-details" class="mt-8 p-6 bg-white rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Calificaciones</h2>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Notas por Materia</h3>
                    <table class="grades-table">
                        <thead>
                            <tr>
                                <th>Materia</th>
                                <th>Notas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Matemáticas</td>
                                <td>6.5, 5.8, 7.0, 6.0</td>
                            </tr>
                            <tr>
                                <td>Lenguaje</td>
                                <td>7.0, 4.5, 6.8, 5.9</td>
                            </tr>
                            <tr>
                                <td>Ed. Física</td>
                                <td>6.0, 6.2, 5.5</td>
                            </tr>
                            <tr>
                                <td>Ciencias Naturales</td>
                                <td>5.0, 6.3, 7.0, 6.8</td>
                            </tr>
                            <tr>
                                <td>Inglés</td>
                                <td>7.0, 7.0, 6.9</td>
                            </tr>
                            <tr>
                                <td>Historia</td>
                                <td>5.5, 6.0, 6.5, 5.8</td>
                            </tr>
                            <tr>
                                <td>Religión</td>
                                <td>7.0, 7.0, 7.0</td>
                            </tr>
                            <tr>
                                <td>Música</td>
                                <td>6.8, 7.0, 6.5</td>
                            </tr>
                            <tr>
                                <td>Artes Visuales</td>
                                <td>7.0, 6.9, 7.0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                 <button id="btn-close-grades" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    Cerrar
                </button>
            </div>

            <div id="notifications-details" class="mt-8 p-6 bg-white rounded-lg shadow-md border border-gray-300">
                <h2 class="text-xl font-semibold mb-4">Notificaciones</h2>

                <div id="recent-notifications">
                    <h3 class="text-lg font-semibold mb-3">Mensajes Recientes</h3>
                    <ul id="notifications-list" class="list-none space-y-2">
                        <li class="notification-item">Se agregó una calificación a: Lenguaje</li>
                        <li class="notification-item">El día de hoy Martin asistió a clases</li>
                        <li class="notification-item" id="reunion-notification">Hoy hay reunión de apoderados <span id="reunion-datetime" class="text-sm text-gray-600"></span></li>
                        </ul>
                     <button id="btn-view-all-notifications" class="mt-4 text-blue-600 hover:underline text-sm">Ver todos los mensajes enviados por días</button>
                </div>

                 <div id="daily-notifications-details">
                     <h3 class="text-lg font-semibold mb-3">Historial de Notificaciones por Día</h3>
                     <div id="daily-notifications-list">
                         </div>
                     <button id="btn-close-daily-notifications" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                        Cerrar detalle diario
                    </button>
                </div>


                 <button id="btn-close-notifications" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    Cerrar
                </button>
            </div>

             <div id="news-details" class="mt-8 p-6 bg-white rounded-lg shadow-md border border-gray-300">
                <h2 class="text-xl font-semibold mb-4">Noticias</h2>

                <div class="news-item">
                    <h3>Vacaciones de Invierno</h3>
                    <p>Estimados alumnos y apoderados:</p>
                    <p>Les informamos que las vacaciones de invierno de este año se llevarán a cabo desde el <strong>15 de Julio de 2024</strong> hasta el <strong>26 de Julio de 2024</strong>, ambos días inclusive. Las clases se reanudarán el día Lunes 29 de Julio de 2024.</p>
                </div>

                 <div class="news-item">
                    <h3>¡Aniversario del Colegio!</h3>
                    <p>Nuestro querido colegio está de aniversario. Este año celebramos <strong>75 años</strong> de historia, educación y comunidad.</p>
                    <p>Para conmemorar esta importante fecha, se realizarán las siguientes actividades:</p>
                    <ul>
                        <li>Ceremonia oficial conmemorativa</li>
                        <li>Feria de proyectos estudiantiles</li>
                        <li>Competencias deportivas inter-alianzas</li>
                        <li>Show de talentos</li>
                        <li>Convivencia familiar y cierre con música en vivo</li>
                    </ul>
                    <p>¡Los esperamos a todos para celebrar juntos!</p>
                </div>


                 <button id="btn-close-news" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    Cerrar
                </button>
            </div>

             <div id="material-details" class="mt-8 p-6 bg-white rounded-lg shadow-md border border-gray-300">
                <h2 class="text-xl font-semibold mb-4">Material de Apoyo</h2>

                <div id="subject-list">
                    <h3 class="text-lg font-semibold mb-3">Materias</h3>
                    <ul class="list-none space-y-2">
                        <li class="material-link" data-subject="matematicas">Matemáticas</li>
                        <li class="material-link" data-subject="lenguaje">Lenguaje</li>
                        <li class="material-link" data-subject="ed_fisica">Ed. Física</li>
                        <li class="material-link" data-subject="ciencias_naturales">Ciencias Naturales</li>
                        <li class="material-link" data-subject="ingles">Inglés</li>
                        <li class="material-link" data-subject="historia">Historia</li>
                        <li class="material-link" data-subject="religion">Religión</li>
                        <li class="material-link" data-subject="musica">Música</li>
                        <li class="material-link" data-subject="artes_visuales">Artes Visuales</li>
                    </ul>
                </div>

                <div id="subject-units">
                    <h3 class="text-lg font-semibold mb-3">Unidades de <span id="current-subject"></span></h3>
                    <ul id="units-list" class="list-none space-y-2">
                        </ul>
                    <button id="btn-back-to-subjects" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out">
                        Volver a Materias
                    </button>
                </div>

                <div id="unit-material">
                     <h3 class="text-lg font-semibold mb-3">Material de <span id="current-unit"></span></h3>
                     <div id="material-content">
                         </div>
                     <button id="btn-back-to-units" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out">
                        Volver a Unidades
                    </button>
                </div>


                 <button id="btn-close-material" class="mt-6 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                    Cerrar
                </button>
            </div>


        </section>

        <aside class="w-full md:w-1/3 bg-white p-6 rounded-lg shadow-md">

            <div>
                <h2 class="text-xl font-semibold mb-4">Iniciar Sesión</h2>
                <form>
                    <div class="mb-4">
                        <label for="rut" class="block text-gray-700 text-sm font-bold mb-2">RUT</label>
                        <input type="text" id="rut" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                    </div>
                    <div class="mb-6">
                        <label for="contrasena" class="block text-gray-700 text-sm font-bold mb-2">Contraseña</label>
                        <input type="password" id="contrasena" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline">
                    </div>
                    <div class="flex items-center justify-between">
                        <button id="btn-ingresar" type="button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out w-full">
                            Ingresar
                        </button>
                    </div>
                </form>
            </div>

        </aside>

    </main>

    <script>
        const mainButtons = document.getElementById('main-buttons');
        const attendanceDetails = document.getElementById('attendance-details');
        const monthlyHistory = document.getElementById('monthly-history');
        const dailyDetails = document.getElementById('daily-details');
        const detailMonthSpan = document.getElementById('detail-month');
        const dailyList = document.getElementById('daily-list');
        const btnCloseAttendance = document.getElementById('btn-close-attendance');
        const btnCloseDailyDetails = document.getElementById('btn-close-daily-details');
        const btnJustifyAttendance = document.getElementById('btn-justify-attendance');
        const mainContentTitle = document.querySelector('#main-content h2'); // Referencia al título de la sección principal

        const gradesDetails = document.getElementById('grades-details'); // Nueva referencia a la sección de calificaciones
        const btnCloseGrades = document.getElementById('btn-close-grades'); // Nueva referencia al botón de cerrar calificaciones

        const notificationsDetails = document.getElementById('notifications-details'); // Nueva referencia a la sección de notificaciones
        const recentNotifications = document.getElementById('recent-notifications'); // Referencia a la sección de mensajes recientes
        const dailyNotificationsDetails = document.getElementById('daily-notifications-details'); // Nueva referencia a la sección de notificaciones diarias
        const dailyNotificationsList = document.getElementById('daily-notifications-list'); // Referencia a la lista de notificaciones diarias
        const btnCloseNotifications = document.getElementById('btn-close-notifications'); // Nueva referencia al botón de cerrar notificaciones
        const btnViewAllNotifications = document.getElementById('btn-view-all-notifications'); // Nueva referencia al botón "Ver todos"
        const btnCloseDailyNotifications = document.getElementById('btn-close-daily-notifications'); // Nueva referencia al botón cerrar detalle diario de notificaciones
        const reunionDatetimeSpan = document.getElementById('reunion-datetime'); // Nueva referencia al span para la fecha y hora de la reunión

        const newsDetails = document.getElementById('news-details'); // Nueva referencia a la sección de noticias
        const btnCloseNews = document.getElementById('btn-close-news'); // Nueva referencia al botón de cerrar noticias

        const materialDetails = document.getElementById('material-details'); // Nueva referencia a la sección de material de apoyo
        const subjectList = document.getElementById('subject-list'); // Referencia a la lista de materias
        const subjectUnits = document.getElementById('subject-units'); // Referencia a la sección de unidades
        const currentSubjectSpan = document.getElementById('current-subject'); // Referencia al span del nombre de la materia actual
        const unitsList = document.getElementById('units-list'); // Referencia a la lista de unidades
        const unitMaterial = document.getElementById('unit-material'); // Referencia a la sección de material de unidad
        const currentUnitSpan = document.getElementById('current-unit'); // Referencia al span del nombre de la unidad actual
        const materialContent = document.getElementById('material-content'); // Referencia al div del contenido del material
        const btnBackToSubjects = document.getElementById('btn-back-to-subjects'); // Botón para volver a materias
        const btnBackToUnits = document.getElementById('btn-back-to-units'); // Botón para volver a unidades
        const btnCloseMaterial = document.getElementById('btn-close-material'); // Botón para cerrar material de apoyo


        // Datos de ejemplo para el detalle diario de asistencia
        const dailyAttendanceData = {
            enero: ["Día 1: Presente", "Día 2: Presente", "Día 3: Presente", "Día 4: Presente", "Día 5: Presente"],
            febrero: ["Día 1: Presente", "Día 2: Ausente", "Día 3: Presente", "Día 4: Presente", "Día 5: Presente"],
            marzo: ["Día 1: Presente", "Día 2: Presente", "Día 3: Ausente", "Día 4: Presente", "Día 5: Presente"],
            abril: ["Día 1: Ausente", "Día 2: Presente", "Día 3: Presente", "Día 4: Presente", "Día 5: Ausente"],
            mayo: ["Día 1: Presente", "Día 2: Presente", "Día 3: Presente", "Día 4: Ausente", "Día 5: Presente"]
        };

         // Datos de ejemplo para notificaciones por día
        const dailyNotificationsData = {
            "2024-10-26": [
                "Se agregó una calificación a: Lenguaje",
                "El día de hoy Martin asistió a clases"
            ],
            "2024-10-25": [
                "Recordatorio: Entrega de proyecto de Matemáticas mañana.",
                "Nuevo material de apoyo disponible para Ciencias Naturales."
            ],
            "2024-10-24": [
                "Hoy hay reunión de apoderados - 18:00", // Example with time
                "La clase de Ed. Física se realizará en el gimnasio."
            ]
             // Add more days and notifications as needed
        };

        // Datos de ejemplo para Material de Apoyo (Materias, Unidades y Material)
        const materialData = {
            matematicas: {
                name: "Matemáticas",
                units: {
                    unidad_1: {
                        name: "Unidad 1: Fracciones con igual denominador",
                        material: [
                            "Documento 1: Conceptos básicos de fracciones.pdf",
                            "Video: Suma y resta de fracciones con igual denominador.mp4",
                            "Actividad: Ejercicios de práctica.docx"
                        ]
                    },
                    unidad_2: {
                         name: "Unidad 2: Multiplicación y división de fracciones",
                         material: [
                             "Documento 1: Multiplicación de fracciones.pdf",
                             "Documento 2: División de fracciones.pdf",
                             "Video: Multiplicación y división explicada.mp4"
                         ]
                    }
                    // Add more units for Matematicas
                }
            },
            lenguaje: {
                name: "Lenguaje",
                units: {
                    unidad_1: {
                        name: "Unidad 1: Comprensión lectora",
                        material: [
                            "Documento: Estrategias de comprensión lectora.pdf",
                            "Actividad: Análisis de textos cortos.docx"
                        ]
                    },
                     unidad_2: {
                         name: "Unidad 2: Gramática y ortografía",
                         material: [
                             "Documento: Reglas básicas de ortografía.pdf",
                             "Video: Uso de los signos de puntuación.mp4"
                         ]
                     }
                    // Add more units for Lenguaje
                }
            },
            ed_fisica: {
                 name: "Ed. Física",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Calentamiento y estiramiento",
                         material: [
                             "Documento: Rutina de calentamiento.pdf",
                             "Video: Ejercicios de estiramiento.mp4"
                         ]
                     }
                 }
            },
             ciencias_naturales: {
                 name: "Ciencias Naturales",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: El ciclo del agua",
                         material: [
                             "Documento: El ciclo del agua explicado.pdf",
                             "Video: Animación del ciclo del agua.mp4",
                             "Grabación de clase del {día/fecha/año}" // Added the new item here
                         ]
                     }
                 }
            },
             ingles: {
                 name: "Inglés",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Saludos y presentaciones",
                         material: [
                             "Documento: Frases comunes.pdf",
                             "Audio: Pronunciación.mp3"
                         ]
                     }
                 }
            },
             historia: {
                 name: "Historia",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Civilizaciones antiguas",
                         material: [
                             "Documento: Resumen de civilizaciones.pdf",
                             "Presentación: Egipto y Mesopotamia.pptx"
                         ]
                     }
                 }
            },
             religion: {
                 name: "Religión",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Valores universales",
                         material: [
                             "Documento: Los valores y su importancia.pdf"
                         ]
                     }
                 }
            },
             musica: {
                 name: "Música",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Notas musicales",
                         material: [
                             "Documento: Introducción a las notas.pdf",
                             "Audio: Sonido de las notas.mp3"
                         ]
                     }
                 }
            },
             artes_visuales: {
                 name: "Artes Visuales",
                 units: {
                     unidad_1: {
                         name: "Unidad 1: Teoría del color",
                         material: [
                             "Documento: El círculo cromático.pdf",
                             "Imagen: Combinaciones de colores.jpg"
                         ]
                     }
                 }
            }
             // Add more subjects and their units/material
        };


        // Función para generar una fecha y hora aleatoria en el futuro cercano
        function generateRandomDateTime() {
            const now = new Date();
            const randomDays = Math.floor(Math.random() * 7); // Hasta 7 días en el futuro
            const randomHours = Math.floor(Math.random() * 24);
            const randomMinutes = Math.floor(Math.random() * 60);

            const futureDate = new Date(now);
            futureDate.setDate(now.getDate() + randomDays);
            futureDate.setHours(randomHours, randomMinutes, 0, 0);

            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            return futureDate.toLocaleDateString('es-ES', options);
        }


        // Función para mostrar un mensaje simple al hacer clic en los botones de función (excepto los que tienen secciones dedicadas)
        function mostrarMensajeFuncion(funcion) {
            alert('Hiciste clic en la sección de ' + funcion);
        }

        // Función para ocultar todas las secciones de detalles y mostrar los botones principales
        function showMainButtons() {
            attendanceDetails.style.display = 'none';
            gradesDetails.style.display = 'none';
            notificationsDetails.style.display = 'none';
            newsDetails.style.display = 'none';
            materialDetails.style.display = 'none'; // Ocultar también material de apoyo
            mainButtons.style.display = 'grid';
            mainContentTitle.innerText = 'Inicio';
        }

        // Función para ocultar todas las secciones de detalles y mostrar una sección específica
        function showDetailSection(sectionElement, title) {
             attendanceDetails.style.display = 'none';
             gradesDetails.style.display = 'none';
             notificationsDetails.style.display = 'none';
             newsDetails.style.display = 'none';
             materialDetails.style.display = 'none'; // Asegurarse de que material de apoyo esté oculto por defecto
             mainButtons.style.display = 'none';

             sectionElement.style.display = 'block';
             mainContentTitle.innerText = title;
        }


        // Añadir event listeners a los botones de función
        document.getElementById('btn-asistencia').addEventListener('click', function() {
             showDetailSection(attendanceDetails, 'Asistencia');
             // Asegurarse de que el historial mensual esté visible al entrar a Asistencia
             monthlyHistory.style.display = 'block';
             dailyDetails.style.display = 'none';
             btnJustifyAttendance.style.display = 'block';
        });

        document.getElementById('btn-calificaciones').addEventListener('click', function() {
            showDetailSection(gradesDetails, 'Calificaciones');
        });

        document.getElementById('btn-notificaciones').addEventListener('click', function() {
            showDetailSection(notificationsDetails, 'Notificaciones');
             // Asegurarse de mostrar los mensajes recientes por defecto
            recentNotifications.style.display = 'block';
            dailyNotificationsDetails.style.display = 'none';
            // Generar y mostrar fecha y hora aleatoria para la reunión
            reunionDatetimeSpan.innerText = ' - ' + generateRandomDateTime();
        });

         // Event listener para el nuevo botón de Noticias
        document.getElementById('btn-noticias').addEventListener('click', function() {
             showDetailSection(newsDetails, 'Noticias');
        });

        // Event listener para el botón de Material de Apoyo
        document.getElementById('btn-material').addEventListener('click', function() {
            showDetailSection(materialDetails, 'Material de Apoyo');
            // Mostrar la lista de materias por defecto
            subjectList.style.display = 'block';
            subjectUnits.style.display = 'none';
            unitMaterial.style.display = 'none';
        });


        // Añadir event listeners a los botones "Ver detallado" de asistencia
        document.querySelectorAll('.view-detail-btn').forEach(button => {
            button.addEventListener('click', function() {
                const month = this.getAttribute('data-month');
                detailMonthSpan.innerText = month.charAt(0).toUpperCase() + month.slice(1); // Capitalizar el mes

                // Limpiar lista anterior
                dailyList.innerHTML = '';

                // Llenar lista con detalles del mes seleccionado
                const details = dailyAttendanceData[month] || [];
                details.forEach(detail => {
                    const li = document.createElement('li');
                    li.innerText = detail;
                    dailyList.appendChild(li);
                });

                monthlyHistory.style.display = 'none'; // Ocultar historial mensual
                dailyDetails.style.display = 'block'; // Mostrar detalle diario
                 btnJustifyAttendance.style.display = 'none'; // Ocultar botón justificar en vista detallada
            });
        });

        // Event listener para el botón de cerrar detalles diarios de asistencia
        btnCloseDailyDetails.addEventListener('click', function() {
            dailyDetails.style.display = 'none'; // Ocultar detalle diario
            monthlyHistory.style.display = 'block'; // Mostrar historial mensual
             btnJustifyAttendance.style.display = 'block'; // Mostrar botón justificar nuevamente
        });

        // Event listener para el botón Justificar Asistencia
        btnJustifyAttendance.addEventListener('click', function() {
            alert('Hiciste clic en Justificar Asistencia.');
            // Aquí iría la lógica para justificar asistencia
        });

        // Event listener para el botón de cerrar detalles de asistencia
        btnCloseAttendance.addEventListener('click', function() {
            showMainButtons();
        });

        // Event listener para el botón de cerrar detalles de calificaciones
        btnCloseGrades.addEventListener('click', function() {
            showMainButtons();
        });

         // Event listener para el botón "Ver todos los mensajes enviados por días" de notificaciones
        btnViewAllNotifications.addEventListener('click', function() {
            recentNotifications.style.display = 'none'; // Ocultar mensajes recientes
            dailyNotificationsDetails.style.display = 'block'; // Mostrar detalle diario de notificaciones

             // Limpiar lista anterior
            dailyNotificationsList.innerHTML = '';

            // Llenar la lista con las notificaciones por día
            for (const date in dailyNotificationsData) {
                const dayDiv = document.createElement('div');
                dayDiv.classList.add('daily-notifications-day');

                const dateTitle = document.createElement('h4');
                // Format date for display (e.g., "26 de Octubre de 2024")
                const dateObj = new Date(date);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                dateTitle.innerText = dateObj.toLocaleDateString('es-ES', options);
                dayDiv.appendChild(dateTitle);

                const ul = document.createElement('ul');
                dailyNotificationsData[date].forEach(notification => {
                    const li = document.createElement('li');
                    li.innerText = notification;
                    ul.appendChild(li);
                });
                dayDiv.appendChild(ul);

                dailyNotificationsList.appendChild(dayDiv);
            }
        });

         // Event listener para el botón de cerrar detalles diarios de notificaciones
        btnCloseDailyNotifications.addEventListener('click', function() {
            dailyNotificationsDetails.style.display = 'none'; // Ocultar detalle diario
            recentNotifications.style.display = 'block'; // Mostrar mensajes recientes nuevamente
        });


         // Event listener para el botón de cerrar detalles de notificaciones (principal)
        btnCloseNotifications.addEventListener('click', function() {
            showMainButtons();
             // Asegurarse de que los mensajes recientes estén visibles al volver a la vista principal de notificaciones
            recentNotifications.style.display = 'block';
            dailyNotificationsDetails.style.display = 'none';
        });

         // Event listener para el botón de cerrar detalles de noticias
        btnCloseNews.addEventListener('click', function() {
            showMainButtons();
        });

        // Event listeners para los enlaces de Materias en Material de Apoyo
        document.querySelectorAll('#subject-list .material-link').forEach(link => {
            link.addEventListener('click', function() {
                const subjectKey = this.getAttribute('data-subject');
                const subjectData = materialData[subjectKey];

                if (subjectData) {
                    currentSubjectSpan.innerText = subjectData.name; // Actualizar nombre de la materia

                    // Limpiar lista de unidades anterior
                    unitsList.innerHTML = '';

                    // Llenar lista con las unidades de la materia seleccionada
                    for (const unitKey in subjectData.units) {
                        const unit = subjectData.units[unitKey];
                        const li = document.createElement('li');
                        li.classList.add('material-link');
                        li.setAttribute('data-subject', subjectKey); // Guardar la materia también
                        li.setAttribute('data-unit', unitKey);
                        li.innerText = unit.name;
                        unitsList.appendChild(li);
                    }

                    subjectList.style.display = 'none'; // Ocultar lista de materias
                    subjectUnits.style.display = 'block'; // Mostrar lista de unidades
                }
            });
        });

        // Event listeners para los enlaces de Unidades en Material de Apoyo (Delegación de eventos)
        unitsList.addEventListener('click', function(event) {
            const target = event.target;
            if (target.classList.contains('material-link')) {
                const subjectKey = target.getAttribute('data-subject');
                const unitKey = target.getAttribute('data-unit');
                const subjectData = materialData[subjectKey];

                if (subjectData && subjectData.units[unitKey]) {
                    const unitData = subjectData.units[unitKey];
                    currentUnitSpan.innerText = unitData.name; // Actualizar nombre de la unidad

                    // Limpiar contenido de material anterior
                    materialContent.innerHTML = '';

                    // Llenar con el material de la unidad seleccionada
                    if (unitData.material && unitData.material.length > 0) {
                        const ul = document.createElement('ul');
                        ul.classList.add('list-disc', 'list-inside', 'space-y-1');
                        unitData.material.forEach(item => {
                            const li = document.createElement('li');
                            li.innerText = item;
                            ul.appendChild(li);
                        });
                        materialContent.appendChild(ul);
                    } else {
                        materialContent.innerHTML = '<p>No hay material disponible para esta unidad.</p>';
                    }


                    subjectUnits.style.display = 'none'; // Ocultar lista de unidades
                    unitMaterial.style.display = 'block'; // Mostrar material de la unidad
                }
            }
        });


        // Event listener para el botón "Volver a Materias"
        btnBackToSubjects.addEventListener('click', function() {
            subjectUnits.style.display = 'none'; // Ocultar lista de unidades
            subjectList.style.display = 'block'; // Mostrar lista de materias
        });

        // Event listener para el botón "Volver a Unidades"
        btnBackToUnits.addEventListener('click', function() {
            unitMaterial.style.display = 'none'; // Ocultar material de unidad
            subjectUnits.style.display = 'block'; // Mostrar lista de unidades
        });

        // Event listener para el botón "Cerrar" de Material de Apoyo
        btnCloseMaterial.addEventListener('click', function() {
            showMainButtons();
             // Asegurarse de que la vista inicial de material de apoyo (lista de materias) esté visible al volver a abrir
             subjectList.style.display = 'block';
             subjectUnits.style.display = 'none';
             unitMaterial.style.display = 'none';
        });


        // Añadir event listener al botón de Ingresar (simulado)
        document.getElementById('btn-ingresar').addEventListener('click', function() {
            const rut = document.getElementById('rut').value;
            const contrasena = document.getElementById('contrasena').value;

            if (rut && contrasena) {
                alert('Intentando iniciar sesión con RUT: ' + rut);
                // Aquí iría la lógica real de inicio de sesión
            } else {
                alert('Por favor, ingresa RUT y contraseña.');
            }
        });
    </script>

</body>
</html>
